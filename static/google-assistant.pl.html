<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/index.css">
  </head>

  <body
      data-msg-no-service-worker="Odwied≈∫ najpierw stronƒô g≈Ç√≥wnƒÖ"
  >
    <h1>‚ÄûIntegracja‚Äù z Asystentem Google</h1>

    <p>
        Instrukcjƒô wykonuj na urzƒÖdzeniu, na kt√≥rym chcesz u≈ºywaƒá
        asystenta.
    </p>

    <noscript>
        <style>#steps { display: none }</style>
        <p class="client-not-supported">
            Przykro mi, ale ≈ºeby zobaczyƒá tƒÖ instrukcjƒô potrzebny jest
            JavaScript.
        </p>
    </noscript>

    <script>
        (function () {
            try
            {
                if (
                    ! navigator
                    || ! navigator.serviceWorker
                    || ! navigator.serviceWorker.ready
                    || ! 'pushManager' in ServiceWorkerRegistration.prototype
                    || ! navigator.clipboard
                    || ! navigator.clipboard.writeText
                )
                {
                    throw new Error('Not supported');
                }
            }
            catch (error)
            {
                const noStepsStyles = document.createElement('style');
                noStepsStyles.textContent = '#steps { display: none }';
                document.body.appendChild(noStepsStyles);

                const info = document.createElement('p');
                info.textContent = 'Przykro mi, ale Twoja przeglƒÖdarka nie obs≈Çuguje wszystkich rzeczy potrzebnych, ≈ºeby ustawiƒá integracjƒô z Asystentem Google.';
                info.className = 'client-not-supported';
                document.body.appendChild(info);
            }
        }());
    </script>

    <ol id=steps start=0>
        <li>
            Za≈Ç√≥≈º konto na <a target=_blank href="https://ifttt.com"><abbr lang=en title="if this then that">IFTTT</abbr></a>,
            je≈õli nie masz
        </li>
        <li>
            Stw√≥rz
            <a target=_blank href="https://ifttt.com/create">nowy aplet na <abbr lang=en>IFTTT</abbr></a>
        </li>
        <li>
            Jako <i lang=en>this</i> wybierz
            <i lang=en>Google Assistant</i> i
            <i lang=en>say a simple phrase</i>.

            <p>
                Niestety p√≥ki co nie mo≈ºna zdefiniowaƒá fraz po polsku. üòû
            </p>

            <p>
                Podaj na przyk≈Çad:
            </p>

            <dl lang=en>
                <dt>What do you want to say?</dt>
                <dd>Is the toilet free?</dd>
                <dt>What's another way to say it? </dt>
                <dd>What‚Äôs the toilet situation</dd>
                <dt>And another way?</dt>
                <dd>I need to use the loo, please</dd>
                <dt>What do you want the Assistant to say in response?</dt>
                <dd>I will let you know when it‚Äôs free</dd>
            </dl>
        </li>
        <li>
            Jako <i lang=en>then</i> wybierz
            <i lang=en>Webhooks</i>.

            <p>
                Podaj:
            </p>

            <dt>
                <dt><abbr>URL</abbr></dt>
                <dd><var id=origin>adres tej strony</var>/<span lang=en>queue</span></dd>
                <dt lang=en>Method</dt>
                <dd lang=en>PUT</dd>
                <dt lang=en>Content Type</dt>
                <dd lang=en>application/json</dd>
                <dt lang=en>Body</dt>
                <dd>
                    wklej magicznƒÖ tre≈õƒá
                    (zaakceptuj <abbr title="ewentualne">ew.</abbr>
                    pro≈õby o wy≈õwietlenie powiadomie≈Ñ):
                    <button
                        type=button
                        id=queueDataCopier
                        data-msg-copied="Magiczne co≈õ skopiowane ‚úÖ"
                    >
                        Skopiuj magicznƒÖ tre≈õƒá do schowka
                    </button>
                </li>
            </dt>
        </li>
        <li>
            <i lang=fr>et voil√†</i>
        </li>
    </ol>

    <script type=module src="/google-assistant.mjs"></script>
  </body>
</html>

